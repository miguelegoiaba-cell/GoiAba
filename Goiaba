import discord
from discord.ext import commands
import os

intents = discord.Intents.default()
intents.message_content = True
intents.members = True

bot = commands.Bot(command_prefix="!", intents=intents)

@bot.event
async def on_ready():
    print(f"Bot online como {bot.user}")

# -------------------------
# Comando: !limpar <quantidade>
# -------------------------
@bot.command()
@commands.has_permissions(manage_messages=True)
async def limpar(ctx, qtd: int):
    await ctx.channel.purge(limit=qtd + 1)
    await ctx.send(f"üßπ Apaguei {qtd} mensagens!", delete_after=5)

# -------------------------
# Comando: !ban @user motivo
# -------------------------
@bot.command()
@commands.has_permissions(ban_members=True)
async def ban(ctx, membro: discord.Member, *, motivo="Sem motivo"):
    await membro.ban(reason=motivo)
    await ctx.send(f"üö´ {membro.mention} foi banido! Motivo: {motivo}")

# -------------------------
# Comando: !kick @user motivo
# -------------------------
@bot.command()
@commands.has_permissions(kick_members=True)
async def kick(ctx, membro: discord.Member, *, motivo="Sem motivo"):
    await membro.kick(reason=motivo)
    await ctx.send(f"üë¢ {membro.mention} foi expulso! Motivo: {motivo}")

# -------------------------
# Comando: !slow <segundos>
# -------------------------
@bot.command()
@commands.has_permissions(manage_channels=True)
async def slow(ctx, segundos: int):
    await ctx.channel.edit(slowmode_delay=segundos)
    await ctx.send(f"üê¢ Slowmode ajustado para **{segundos}s**")

# -------------------------
# Iniciar bot
# -------------------------
TOKEN = os.getenv("TOKEN")
bot.run(TOKEN)
